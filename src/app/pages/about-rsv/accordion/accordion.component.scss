@import "../../../../assets/scss/custom";

:host {
  padding-top: toREM(55);
  padding-bottom: toREM(60);

  @include media-breakpoint-up(md) {
    padding-top: toREM(112);
    padding-bottom: toREM(30);
  }
}

.accordion {
  &__title {
    @include media-breakpoint-down(md) {
      margin-bottom: toREM(30);
    }
  }

  &-button {
    padding: toREM(50) toREM(30) toREM(33) toREM(35);
    background-color: transparent;
    font-size: inherit;
    border-radius: toREM(20);
    transition: all .1s ease-in-out;

    @include media-breakpoint-up(md) {
      padding: toREM(55) toREM(50) toREM(20) toREM(50);
    }

    &::after {
      content: none;
      background-image: none;
    }

    &__title {
      @include media-breakpoint-up(md) {
        font-size: toREM(28);
      }
    }

    span {
      font-size: toREM(14);

      @include media-breakpoint-up(md) {
        font-size: toREM(16);
      }
    }

    .button__sup {
      display: inline;
      top: -0.6em;
      font-size: 0.6em;

      &.alt {
        font-size: 0.45em;
        top: -0.8em;
        left: 2px;
      }
    }

    &__caret {
      .caret {
        color: $white;
        &-label {
          font-weight: $font-weight-bold;
          margin-right: toREM(7);

          &.open {
            display: none;
          }
          &.close {
            display: block;
          }
        }

        &-arrow {
          transform: rotate(180deg);
        }
      }
    }

    &.collapsed {
      @include media-breakpoint-up(md) {
        padding: toREM(50) toREM(50) toREM(30) toREM(50);
      }

      h3, span {
        color: $white;
      }

      .button__sup {
        display: none;
      }
      
      .caret {
        &-label {
          &.open {
            display: block;
          }
          &.close {
            display: none;
          }
        }

        &-arrow {
          transition: all .2s ease-in-out;
          transform: none;
        }
      }
    }
  }

  &-body {
    padding: 0 toREM(30) toREM(45) toREM(35);

    @include media-breakpoint-up(md) {
      padding: 0 toREM(50) toREM(30) toREM(50);
    }

    small{
      strong.highlight{
        font-size: toREM(22);
      }
    }
  }

  &-header {
    transition: all .5s linear;
  }

  &-item {
    border-radius: toREM(20);
    
    &:nth-child(odd) {
        & .accordion {
          &-header {
            background: url('/assets/images/about-rsv/accordion/accordion-header-pink_s@2x.png');
            background-repeat: no-repeat;
            background-size: 100% 100%;

            @include media-breakpoint-up(md) {
              background: url('/assets/images/about-rsv/accordion/accordion-header-pink@2x.png');
              background-repeat: no-repeat;
              background-size: 100% 100%;
            }
          }
        }
      
    }
    &:nth-child(even) {
        & .accordion {
          &-header {
            background: url('/assets/images/about-rsv/accordion/accordion-header-blue_s@2x.png');
            background-repeat: no-repeat;
            background-size: 100% 100%;

            @include media-breakpoint-up(md) {
              background: url('/assets/images/about-rsv/accordion/accordion-header-blue@2x.png');
              background-repeat: no-repeat;
              background-size: 100% 100%;
            }
          }
        }
    }

    &.open {
      &:nth-child(odd) {
        & .accordion {
          &-header {
            background: none;
          }

          &-button {
            &__title,
            span {
              color: $secondary;
            }
          }
        }

        background: url('/assets/images/about-rsv/accordion/accordion-expanded-pink_s@2x.png');
        background-repeat: no-repeat;
        background-size: 100% 100%;

        @include media-breakpoint-up(md) {
          background: url('/assets/images/about-rsv/accordion/accordion-expanded-pink@2x.png');
          background-repeat: no-repeat;
          background-size: 100% 100%;
        }
      }
      &:nth-child(even) {
        & .accordion {
          &-header {
            background: none;
          }

          &-button {
            &__title,
            span {
              color: $tertiary;
            }
          }
        }

        background: url('/assets/images/about-rsv/accordion/accordion-expanded-blue_s@2x.png');
        background-repeat: no-repeat;
        background-size: 100% 100%;

        @include media-breakpoint-up(md) {
          background: url('/assets/images/about-rsv/accordion/accordion-expanded-blue@2x.png');
          background-repeat: no-repeat;
          background-size: 100% 100%;
        }
      }
      &:last-child {
        background: url('/assets/images/about-rsv/accordion/accordion-expanded-pink-alt_s@2x.png');
        background-repeat: no-repeat;
        background-size: 100% 100%;

        @include media-breakpoint-up(md) {
          background: url('/assets/images/about-rsv/accordion/accordion-expanded-pink-alt@2x.png');
          background-repeat: no-repeat;
          background-size: 100% 100%;
        }
      }
    }
  }

  /* top button */
  &__button {
    margin: 0 auto toREM(15);
    cursor: pointer;

    @include media-breakpoint-up(md) {
      margin-top: toREM(-28);
      margin-right: toREM(48);
      margin-bottom: toREM(10);
    }
    
    span {
      font-weight: $font-weight-bold;

      @include media-breakpoint-down(md) {
        font-size: toREM(14);
      }
    }

    .button {
      &__label {
        margin-right: toREM(10);
      }

      &__caret {
        transition: all .2s ease-in-out;
        
        &.rotated {
          transform: rotate(180deg);
        }
      }
    }
  }

}

/* accordion content */
.what-is-rsv {
  &__picture {
    margin-bottom: toREM(43);

    @include media-breakpoint-up(md) {
      margin-bottom: toREM(30);
    }
  }
}
.rsv-seasonality {
  .top-container {
    &__left {
      @include media-breakpoint-up(md) {
        width: toREM(560);
      }
    }
    &__right {
      @include media-breakpoint-up(md) {
        width: toREM(490);
      }
    }
  }
}
.how-rsv-progresses {
  &__progression {
    @include media-breakpoint-up(md) {
      margin-bottom: toREM(15);
    }

    p.progression__text {
      @include media-breakpoint-up(md) {
        margin-top: toREM(20);

        &:nth-of-type(1) {
          max-width: toREM(165);
        }
        &:nth-of-type(2) {
          max-width: toREM(175);
        }
        &:nth-of-type(3) {
          max-width: toREM(240);
        }
      }
    }
  }
}

.rsv__footer {
  p {
    font-size: toREM(14);

    &:first-child {
      text-indent: toREM(-4);
    }
    &:last-child {
      text-indent: toREM(-6);

      @include media-breakpoint-up(md) {
        text-indent: toREM(-5);
      }
    }
  }
}
